**1. Documentation of Preprocessing Data Generation Main code**

Preprocessing data is the input data for preprocessing code, used to generate a large number of RVE models in ABAQUS CAE. Preprocessing data include material property parameters, strain series, and RVE geometric parameters. The function of the main code is to initialize the preset parameters that are needed to generate preprocessing data and call the data generation package.

The first part of the main code is to initialize preset parameters, which include preset parameters of the range of RVE geometry, the range of material properties, and the properties of the series. The details of these parameters are listed in the code as comments.

The second part of the main code is to call the subroutines designed to generate preprocessing data. The code will successively call the material parameters generation, strain series generation, and RVE geometry parameters generation subroutines. The user should input “ON” or “OFF” to control determine whether each subroutine will run or not.


**2. Documentation of Material Parameters Generation code**

The material parameters generation code is used to generate datasets that contain all the material parameters we need with different values which are uniformly distributed in a preset range. It is used in cases where different material properties are needed for each RVE. The number of sets of material parameters is equal to the number of RVE models we generate. If the user wants to fix the material properties of the RVE, they can input the same value as the upper and lower bounds of the range.

There are two classes in this package. The class “Gen_matfi_file” is used to generate the material properties of the fiber and save it as a file. The class “Gen_matma_file” is used to generate the material properties of the matrix and save it as a separate file.


**3. Documentation of Strain Series Sampling code**

The strain series sampling code is used to sample the dataset of macroscopic strain series we need to apply to our RVE model. This dataset will be used in the training and testing process of the GRU model as an input dataset. This package will read the material parameters dataset generated by the previous package. There is just one class “Gen_sam” in this code and we have three functions in this class.

stress_com: Function “stress_com” is used to compute the stress vector in each iteration. This function will implement return mapping of the J2 plasticity model in every iteration. This function will determine whether the material is in the plastic range or not in this step and return the state parameter, 1 for plastic and 0 for elastic.

Gen: Function “Gen” is used to generate a random strain series. This function can generate corresponding stress series and strain increment series simultaneously. This function also ensures that the generated strain series does not exceed a preset maximum value. At the same time, this function will count and return the number of plastic steps in this series. To achieve this, the function calls the subroutine “stress_com”.

Gen_f: Function “Gen_f” is used to generate files containing the datasets we need. This function will compare the number of plastic steps returned by the function “Gen” with a preset minimum value to judge whether the series generated in this iteration satisfies the requirement or not. If so, it will be saved to our dataset, otherwise, it will be deleted. When the code generates enough satisfactory series, the loop will stop and this function will save datasets as files. If users do not need all series to include enough plastic steps, they can set the desired values. When the generated series exceeds this value, the remaining series will be randomly generated without being checked for a sufficient number of plastic steps.

There is an example of a series generated by our sampling algorithm:
![Sampling_example](https://github.com/Multiscale-ML/RNN-FEM/assets/139171109/b9ef8c36-baab-4c90-bdb2-df83e1953c64)


**4. Documentation of Geometry Parameters Generation code**

Class “Gen_rfd” and “Gen_rfd_file” are used to generate a random fiber dataset. Class “Gen_rfd” is used to generate a set of random coordinates of the center of fibers of an RVE model and automatically prevents fiber overlap. Class “Gen_rfd_file” is used to save the data generated by “Gen_rfd” as a file.

Class “Gen_sf_file” is used to generate and save a dataset of random radius values for single fiber RVE models. The range of radius values is set by the user. This class can also generate a dataset of the volume ratio of fiber for RVE models.
